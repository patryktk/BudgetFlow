<!-- src/app/components/add-expense/add-expense.component.html -->
<div class="container mt-4">
  <h3>Dodaj wydatek</h3>
  <form [formGroup]="expenseForm" (ngSubmit)="onSubmit()">
    <!-- Nazwa -->
    <div class="mb-3">
      <label for="name" class="form-label">Nazwa wydatku</label>
      <input
        id="name"
        type="text"
        class="form-control"
        formControlName="name"
        placeholder="Podaj nazwę wydatku"
      />
      <div *ngIf="expenseForm.get('name')?.invalid && expenseForm.get('name')?.touched" class="text-danger">
        Nazwa wydatku jest wymagana (min. 3 znaki).
      </div>
    </div>

    <!-- Kategoria -->
    <div class="mb-3">
      <label for="expenseCategory" class="form-label">Kategoria</label>
      <select
        id="expenseCategory"
        class="form-control"
        formControlName="expenseCategory"
      >
        <option value="" disabled selected>Wybierz kategorię</option>
        <option *ngFor="let category of expenseCategories" [value]="category.id">
          {{ category.name }}
        </option>
      </select>
      <div *ngIf="expenseForm.get('expenseCategory')?.invalid && expenseForm.get('expenseCategory')?.touched" class="text-danger">
        Kategoria jest wymagana.
      </div>
    </div>

    <!-- Kwota -->
    <div class="mb-3">
      <label for="amount" class="form-label">Kwota</label>
      <input
        id="amount"
        type="number"
        class="form-control"
        formControlName="amount"
        placeholder="Podaj kwotę"
      />
      <div *ngIf="expenseForm.get('amount')?.invalid && expenseForm.get('amount')?.touched" class="text-danger">
        Kwota musi być większa od 0.
      </div>
    </div>

    <!-- Data -->
    <div class="mb-3">
      <label for="expenseDate" class="form-label">Data</label>
      <input
        id="expenseDate"
        type="date"
        class="form-control"
        formControlName="expenseDate"
      />
      <div *ngIf="expenseForm.get('expenseDate')?.invalid && expenseForm.get('expenseDate')?.touched" class="text-danger">
        Data jest wymagana.
      </div>
    </div>

    <!-- Notatka -->
    <div class="mb-3">
      <label for="note" class="form-label">Notatka</label>
      <textarea
        id="note"
        class="form-control"
        formControlName="note"
        placeholder="Dodaj notatkę (opcjonalnie)"
        maxlength="255"
      ></textarea>
      <div *ngIf="expenseForm.get('note')?.invalid && expenseForm.get('note')?.touched" class="text-danger">
        Notatka nie może przekraczać 255 znaków.
      </div>
    </div>

    <!-- Przycisk -->
    <button type="submit" class="btn btn-primary" [disabled]="expenseForm.invalid">Dodaj</button>
  </form>

  <!-- Komunikat sukcesu -->
  <div *ngIf="successMessage" class="alert alert-success mt-3">
    {{ successMessage }}
  </div>

  <!-- MessageBox Błąd -->
  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>
</div>
